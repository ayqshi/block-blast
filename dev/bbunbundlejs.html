<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>BBUNBUNDLEJS</title><script src="https://cdn.tailwindcss.com"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-okaidia.min.css" rel="stylesheet"><style>body{font-family:Inter,sans-serif;overflow-x:hidden}::-webkit-scrollbar{width:8px;height:8px}::-webkit-scrollbar-track{background:#2d3748}::-webkit-scrollbar-thumb{background:#fff;border-radius:4px}::-webkit-scrollbar-thumb:hover{background:#e0e0e0}html{scrollbar-color:#fff #2d3748;scrollbar-width:thin}.file-input-label{display:block;width:100%;padding:12px 20px;background-color:#38b2ac;color:#fff;font-weight:600;font-size:1.125rem;border-radius:8px;cursor:pointer;transition:background-color .3s ease;text-align:center;box-shadow:0 4px 6px rgba(0,0,0,.1)}.file-input-label:hover{background-color:#319795}.file-input{display:none}textarea#codeInput{max-height:400px;overflow-y:auto}pre.language-javascript{max-height:300px;overflow-y:auto;overflow-x:scroll;max-width:100%;white-space:pre;word-wrap:normal;word-break:normal;background-color:#282c34!important;padding:1rem!important;border-radius:.5rem!important;margin:0!important}</style></head><body class="bg-gray-900 min-h-screen flex items-center justify-center py-10 text-gray-200"><div class="container mx-auto p-6 bg-gray-800 rounded-xl shadow-lg w-full max-w-4xl border border-gray-700"><h1 class="text-4xl font-extrabold text-center text-lime-400 mb-6 drop-shadow-lg">BBUNBUNDLEJS</h1><p class="text-center text-gray-400 mb-8">Import your `bundled_scripts.js` file to automatically extract and view individual JavaScript modules. Download them one by one or all at once.</p><input type="file" id="fileInput" class="file-input" accept=".js"><label for="fileInput" class="file-input-label mb-6"><span class="mr-2">üìÅ</span>Select bundled_scripts.js</label><button id="downloadAllBtn" class="w-full py-3 mb-8 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled="disabled">Download All Extracted Files as ZIP</button><div id="resultsContainer" class="mt-4"><p class="text-center text-gray-500">No files loaded yet. Please select `bundled_scripts.js`.</p></div><div id="messageModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden flex items-center justify-center p-4 z-50"><div class="bg-gray-700 rounded-lg p-6 shadow-xl max-w-sm w-full border border-gray-600"><h3 class="text-xl font-bold text-gray-100 mb-4" id="modalTitle"></h3><p class="text-gray-300 mb-6" id="modalMessage"></p><button onclick='document.getElementById("messageModal").classList.add("hidden")' class="w-full py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2">OK</button></div></div><div id="loadingModal" class="fixed inset-0 bg-gray-600 bg-opacity-50 hidden flex items-center justify-center p-4 z-50"><div class="bg-gray-700 rounded-lg p-6 shadow-xl flex items-center border border-gray-600"><div class="animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-lime-400 mr-3"></div><p class="text-gray-100 text-lg">Processing file...</p></div></div></div><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/prism.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-javascript.min.js"></script><script>let extractedFiles=[];const targetModules=["api","audio_btn","auto_play_blink","blast","finger","opt","score","blink","blink_2","block","config","control","game_over_6","guide_force","model","next","nexts","play_audio","prgs","scroll_lbl","shake","star"];function showMessage(e,t){document.getElementById("modalTitle").textContent=e,document.getElementById("modalMessage").textContent=t,document.getElementById("messageModal").classList.remove("hidden")}async function handleFileImport(e){const t=e.target.files[0],n=document.getElementById("resultsContainer"),o=document.getElementById("downloadAllBtn");if(n.innerHTML='<p class="text-center text-gray-500">Processing file...</p>',extractedFiles=[],o.disabled=!0,document.getElementById("loadingModal").classList.remove("hidden"),!t)return showMessage("File Selection Error","No file was selected."),n.innerHTML='<p class="text-center text-gray-500">No file loaded yet. Please select `bundled_scripts.js`.</p>',void document.getElementById("loadingModal").classList.add("hidden");if("bundled_scripts.js"!==t.name)return showMessage("File Type Error","Please select the `bundled_scripts.js` file."),n.innerHTML='<p class="text-center text-gray-500">Please select `bundled_scripts.js`.</p>',void document.getElementById("loadingModal").classList.add("hidden");const s=new FileReader;s.onload=async e=>{const t=e.target.result;n.innerHTML="";try{const e=t.match(/window\.__require\s*=\s*function\s*t\([\s\S]*?\}\(\{([\s\S]*?)\}\s*,\s*\{\}\s*,\s*\[[\s\S]*?\]\s*\);/);if(!e||!e[1])return showMessage("Parsing Error","Could not find the expected `window.__require` bundle structure. Please ensure the pasted code is complete and unmodified."),void document.getElementById("loadingModal").classList.add("hidden");const s=e[1];let l=0,d=!1;for(;l<s.length;){const e=/(\w+):\s*\[/,t=s.substring(l).match(e);if(!t)break;const o=t[1],i=l+t.index+t[0].length;let r=0,a=-1;for(let e=i;e<s.length;e++){const t=s[e];if("["===t)r++;else if("]"===t){if(0===r){a=e;break}r--}}if(-1===a){console.error(`ERROR: Could not find matching closing bracket for module array: ${o}. Skipping this module.`),l=s.length;continue}const c=s.substring(i,a);if(l=a+1,!targetModules.includes(o))continue;d=!0;const u="function(t, o, e) {",m=c.indexOf(u);let g="";if(-1===m){console.warn(`WARN: Function signature '${u}' not found for module: ${o}. Skipping extraction for this module.`);continue}{const e=c.indexOf("{",m+u.length-1);if(-1===e){console.error(`ERROR: Could not find opening brace after function signature for module: ${o}. Skipping extraction.`);continue}{let t=0;const n=e+1;let s=-1;for(let e=n;e<c.length;e++){const n=c[e];if("{"===n)t++;else if("}"===n){if(0===t){s=e;break}t--}}if(-1===s){console.error(`ERROR: Could not find precise matching closing brace for function in module: ${o}. Brace balance issues detected.`);continue}g=c.substring(n,s)}}g=g.trim();const f=`${o}.js`;extractedFiles.push({name:f,content:g});const p=document.createElement("div");p.className="bg-gray-700 p-4 mb-4 rounded-lg shadow-sm border border-gray-600 flex flex-col sm:flex-row items-start sm:items-center justify-between";const h=document.createElement("div");h.className="flex-grow w-full sm:w-auto overflow-x-hidden";const x=document.createElement("h3");x.className="font-bold text-lg text-lime-300 mb-2 sm:mb-0",x.textContent=f;const b=document.createElement("pre");b.className="language-javascript bg-gray-800 p-3 rounded-md overflow-auto text-sm text-gray-100 border border-gray-600 w-full",b.textContent=g,Prism.highlightElement(b);const y=document.createElement("button");y.className="mt-4 sm:mt-0 sm:ml-4 flex-shrink-0 px-4 py-2 bg-purple-600 text-white font-semibold rounded-md shadow hover:bg-purple-700 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 transition-all duration-300",y.textContent="Download File",y.onclick=()=>{const e=new Blob([g],{type:"text/javascript"});saveAs(e,f)},h.appendChild(x),h.appendChild(b),p.appendChild(h),p.appendChild(y),n.appendChild(p)}d?o.disabled=!1:(n.innerHTML='<p class="text-center text-gray-500">No modules found matching the specified list. Please check the `bundled_scripts.js` file content.</p>',o.disabled=!0)}catch(e){showMessage("Processing Error",`An unexpected error occurred while extracting: ${e.message}`),console.error("Extraction error:",e),n.innerHTML='<p class="text-center text-red-400">Error processing file. See console for details.</p>',o.disabled=!0}finally{document.getElementById("loadingModal").classList.add("hidden")}},s.onerror=()=>{showMessage("File Read Error","Failed to read the file."),n.innerHTML='<p class="text-center text-red-400">Failed to read file.</p>',document.getElementById("loadingModal").classList.add("hidden")},s.readAsText(t)}document.getElementById("fileInput").addEventListener("change",handleFileImport),document.getElementById("downloadAllBtn").addEventListener("click",(async function(){if(0!==extractedFiles.length){document.getElementById("loadingModal").classList.remove("hidden");try{const e=new JSZip;extractedFiles.forEach((t=>{e.file(t.name,t.content)}));const t=await e.generateAsync({type:"blob"});saveAs(t,"extracted_scripts.zip")}catch(e){showMessage("Download Error",`Failed to generate ZIP file: ${e.message}`),console.error("ZIP generation error:",e)}finally{document.getElementById("loadingModal").classList.add("hidden")}}else showMessage("No Files to Download","No extracted files available for download. Please import and extract code first.")}));</script></body></html>
